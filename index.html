<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Payroll System - Login</title>
    <link rel="stylesheet" href="styles-bootstrap.css">
</head>
<body class="login-container">
    <div class="container">
        <div class="login-card">
            <div class="login-header">
                <h1 class="mb-2"><i class="bi bi-briefcase-fill me-2"></i>Indian Payroll System</h1>
                <p class="mb-0">Secure Employee Management Portal</p>
            </div>
            <div class="login-body">
                <h4 class="text-center mb-4">Sign In</h4>
            <form id="loginForm">
                <div class="mb-3">
                    <label for="username" class="form-label"><i class="bi bi-person me-2"></i>Username</label>
                    <input type="text" class="form-control" id="username" required placeholder="Enter your username">
                </div>
                <div class="mb-3">
                    <label for="password" class="form-label"><i class="bi bi-lock me-2"></i>Password</label>
                    <input type="password" class="form-control" id="password" required placeholder="Enter your password">
                </div>
                <div class="mb-4">
                    <label for="role" class="form-label"><i class="bi bi-person-badge me-2"></i>Role</label>
                    <select id="role" class="form-select">
                        <option value="admin">Admin</option>
                        <option value="hr">HR Manager</option>
                        <option value="payroll">Payroll Executive</option>
                        <option value="employee">Employee</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary w-100 mb-3">
                    <i class="bi bi-box-arrow-in-right me-2"></i>Sign In
                </button>
            </form>
                <div class="alert alert-info text-center mb-0" role="alert">
                    <i class="bi bi-info-circle me-2"></i><small>Demo: Use any username/password to login</small>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize dummy data in local storage if not exists
        if (!localStorage.getItem('employees')) {
            const dummyEmployees = [
                {id: 1, name: 'Rajesh Kumar', empCode: 'EMP001', department: 'IT', designation: 'Software Engineer', salary: 50000, joiningDate: '2022-01-15'},
                {id: 2, name: 'Priya Sharma', empCode: 'EMP002', department: 'HR', designation: 'HR Manager', salary: 60000, joiningDate: '2021-06-10'},
                {id: 3, name: 'Amit Patel', empCode: 'EMP003', department: 'Finance', designation: 'Accountant', salary: 45000, joiningDate: '2023-03-20'},
                {id: 4, name: 'Neha Singh', empCode: 'EMP004', department: 'IT', designation: 'Team Lead', salary: 80000, joiningDate: '2020-11-05'},
                {id: 5, name: 'Vikram Verma', empCode: 'EMP005', department: 'Sales', designation: 'Sales Executive', salary: 35000, joiningDate: '2023-07-01'}
            ];
            localStorage.setItem('employees', JSON.stringify(dummyEmployees));
        }

        if (!localStorage.getItem('attendance')) {
            const dummyAttendance = [
                {id: 1, empId: 1, date: '2024-01-01', inTime: '09:00', outTime: '18:00', status: 'Present'},
                {id: 2, empId: 2, date: '2024-01-01', inTime: '09:15', outTime: '18:30', status: 'Present'},
                {id: 3, empId: 3, date: '2024-01-01', inTime: '09:30', outTime: '18:00', status: 'Present'},
                {id: 4, empId: 4, date: '2024-01-01', inTime: '00:00', outTime: '00:00', status: 'Leave'},
                {id: 5, empId: 5, date: '2024-01-01', inTime: '10:00', outTime: '19:00', status: 'Present'}
            ];
            localStorage.setItem('attendance', JSON.stringify(dummyAttendance));
        }

        if (!localStorage.getItem('leaves')) {
            const dummyLeaves = [
                {id: 1, empId: 1, leaveType: 'Casual Leave', fromDate: '2024-01-10', toDate: '2024-01-12', days: 3, reason: 'Personal Work', status: 'Approved'},
                {id: 2, empId: 2, leaveType: 'Sick Leave', fromDate: '2024-01-15', toDate: '2024-01-15', days: 1, reason: 'Fever', status: 'Approved'},
                {id: 3, empId: 4, leaveType: 'Earned Leave', fromDate: '2024-01-20', toDate: '2024-01-25', days: 6, reason: 'Vacation', status: 'Pending'}
            ];
            localStorage.setItem('leaves', JSON.stringify(dummyLeaves));
        }

        // Handle login
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const role = document.getElementById('role').value;
            
            // Store user info
            localStorage.setItem('currentUser', JSON.stringify({
                username: username,
                role: role,
                loginTime: new Date().toISOString()
            }));
            
            // Redirect to dashboard
            window.location.href = 'dashboard.html';
        });
    </script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>